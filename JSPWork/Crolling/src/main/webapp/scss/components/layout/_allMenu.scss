@use "sass:math";
@use '../../common/' as *;
@use '../../common/variables' as var;
@use '../../common/color' as color;
@use '../flex/mixin' as flex;
@use '../icon/mixin' as icon;


.allMenu{
	&{
		font-size: 1rem;
		display: block;
		position: fixed;
		top:0%;
		left:0;
		width: 100%;
		height: calc(var(--vh, 1vh) * 100);
		z-index: 2000;
		visibility: hidden;
		transition: visibility .7s;
		overflow: hidden;
		&:not(.on) {
			transition: visibility .3s;
			transition-delay: .5s;
		}
		&.on{
			visibility: visible;
			transition: none;
			&::before {
				transform: skewX(-45deg) scaleX(2);
				opacity: 1;
				transition: transform .6s ease-in, opacity .6s;
			}
			.allMenu_box {
				opacity: 1;
				transition: all .6s;
				transition-delay: .6s;
			}
		}
		&::before {
			content:''; display: block;
			position: absolute; top: 0; left: 0;
			width: 100%; height: 100%;
			background-color: map-get(color.$colors, 2);
			transform: skewX(-45deg) scaleX(0);
			transition: transform .6s linear, opacity .6s linear;
			opacity: 0;
			transition-delay: 0s, 0.3s;
		}
	}
	&_box{
		height: calc(var(--vh, 1vh) * 100);
		padding-top: calc(var(--vh, 1vh) * 8.12);
		padding-bottom: em(42);
		@include flex.flex-box;
		@include flex.flex-direction('column');
		font-size: rem(16);
		opacity: 0;
		overflow-y: auto;
	}
	&_gnb {
		position: relative; z-index: 10;
		@include flex.flex-box;
		@include flex.align-items('stretch');
		color: #fff;
		.depth1 {
			flex: 1 1;
			@include flex.flex-box;
			@include flex.flex-direction('column');
			@include flex.align-items('center');
			text-align: center;
			padding: {
				top: em(23);
				bottom: em(22);
				left: em(15);
				right: em(15);
			}
			border-right: 1px solid rgba(255,255,255,0.2);

			&:last-child {
				border-right: 0;
			}
			.depth1_tit {
				font-size: em(40);
				font-weight: bold;
			}
		}
		.depth2 {
			font-size: em(20);
			margin-top: em(60, 20);
			& > li {
				padding: {
					top: em(20, 20);
					bottom: em(20, 20);
				}
				&:last-child {
					padding-bottom: 0;
				}
			}
			a:hover {
				color: map-get(color.$colors, 1);
				text-decoration: underline;
			}
		}
		.depth3 {
			font-size: em(16, 20);
			padding-top: em(12);
			li {
				padding: {
					top: em(12);
					bottom: em(12);
				}
				&:last-child {
					padding-bottom: 0;
				}
			}
		}
	}
	&_logo{
		text-align: center;
		margin: 0 auto em(136);
	    position: relative;
	}
	&_ft {
		@include flex.flex-box;
		@include flex.justify-content('center');
		margin-top: auto;
		padding-top: em(40);
		.btn {
			background-color: color.$color-text-b;
			border-color: color.$color-text-b;
			width: auto;
			min-width: auto;
			padding: {
				left: em(32);
				right: em(32);
			}
			z-index: 5;
			&:hover {
				// background-color: map-get(color.$colors, 2);
				color: map-get(color.$colors, 2);
			}
		}
	}
	&_close{
		position: absolute;
		top: em(36); right: em(36);
		width: em(41);
		height: em(41);
		z-index: 3;
		svg{
			transition: transform 0.3s;
			width: em(24);
			height: em(24);
			transform-origin: center center;
		}
		&:hover{
			svg{
				transform: rotate(-90deg);
			}
		}
	}
	.all_line {
		&_lists {
			position: absolute; top: 0; left: 0;
			width: 100%; height: 100%;
			z-index: 1;
			overflow: hidden;
		    opacity: .5;
			.line {
				position: absolute; top: 0;
				width: em(365); height: 100%;
				// background-color: map-get(color.$colors, 4);
				background-color: color.$color-text-b;
				&_1 {
					left: 0;
					transform: translateX(-110%) skewX(-30deg);
				}
				&_2, &_3 {
					right: 0;
				}
				&_2 {
					transform: translateX(30%) skewX(-30deg);
				}
				&_3 {
					transform: translateX(140%) skewX(-30deg);
				}
			}

		}
	}
}

@include tab{
	.allMenu{
		max-width: 450px;
		width: 100%;
		padding: {
			left: 0; right: 0;
		}
		left: auto;
		right: -100%;
		transition: transform .5s,position .5s, right 0.5s, opacity 0.3s;
		&.on {
			transform: none;
			right: 0;
			.allMenu_box {
				transition-delay: 0s;
				transform: none;
			}
			&::before {
				opacity: 1;
				transform: none;
			}
		}
		&::before {
			position: fixed; top: 0; left: 0;
			background-color: rgba(0, 0, 0, 0.3);
			width: 100%;
			opacity: 0;
			background-image: none;
			transition: opacity .3s, background .3s;
			transform: none;
		}
		.all_line_lists,
		&_etc { display: none; }
		&_box {
			max-width: none;
			height: 100%;
			background-color: map-get(color.$colors, 2);
			position: relative;
			z-index: 1;
			// _ft btn height 64
			padding: em(18) em(16) em(84);
			transform: translateX(100%);
		}
		&_logo {
			// padding-bottom: em(18);
			@include flex.flex-box;
			@include flex.align-items('center');
			height: em(41);
			margin-right: auto;
			margin-left: 0;
			margin-bottom: 0;
			svg {
				width: rem(180); height: rem(22);
			}
		}
		.allMenu_con {
			font-size: rem(18);
			padding-top: em(31, 18);
		}
		&_con {
			overflow: hidden;
			height: 100%;
			.allMenu_gnb {
				padding: {
					left: 0; top: 0;
				}
				height: 100%;
				overflow-y: auto;
	            -ms-overflow-style: none;
	            -webkit-overflow-scrolling: touch;
				display :block;
			}
			.depth1 {
				font-size: 1em;
				padding: 0;
				margin: {
					top: em(4, 18);
					bottom: em(4, 18);
				}
				text-align: left;
				border-right: 0;
				.depth1_tit {
					@include flex.flex-box;
					@include flex.align-items('center');
					@include flex.justify-content('space-between');
					font-weight: bold;
					font-size: em(26, 18);
					padding: {
						left: 0;
						right: 0;
						top: em(16, 26);
						bottom: em(16, 26);
					}
					position: relative;
					&::after {
						content:''; display :block;
						background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='15' height='15' viewBox='0 0 15 15'%3E%3Cpath d='M182.425 165.708h13.5l-1.5 3h-13.5z' transform='translate(-180.925 -159.708)' style='fill:%23fff'/%3E%3Cpath d='M192.424 157.209v13.5l-3 1.5v-13.5z' transform='translate(-183.424 -157.209)' style='fill:%23fff'/%3E%3C/svg%3E%0A");
						width: em(15, 26);
						height: em(15, 26);
						background-position: center;
						background-repeat: no-repeat;
						background-size: 100% auto
					}
				}
				&.on {
					.depth1_tit {
						&::after {
							background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='15' height='15' viewBox='0 0 15 15'%3E%3Cpath d='M182.425 165.708h13.5l-1.5 3h-13.5z' transform='translate(-180.925 -159.708)' style='fill:%23fff'/%3E%3C/svg%3E%0A");
						}
					}
				}
			}
			.depth1, .depth2, .depth3{ display: block; }
			.depth2 {
				display: none;
				border-top: 1px solid rgba(255,255,255,0.2);
				padding: {
					top: em(24, 20);
					bottom: em(24, 20);
				}
				margin: 0;
				font-size: em(20, 18);
				& > li {
					&:first-child {
						margin-top: 0;
					}
					margin: {
						top: em(24, 20);
						bottom: 0;
						right: 0;

					}
					padding: 0;
				}
			}
			.depth3 {
				margin-left: 0;
				padding: {
					left: em(8, 16)
				}
				font-size: em(16, 20);
				padding-top: em(20, 16);
				&::before{ display: none; }
				& > li {
					&:first-child { margin-top: 0; }
					padding: 0;
					margin: {
						top: em(20, 16);
					}
				}
			}
		}
		&_ft {
			position: absolute; bottom: 0; left: 0;
			z-index: 10;
			width: 100%; padding-top: 0;
			li {
				width: 100%;
			}
			.btn {
				width: 100%;
				height: em(64); line-height: em(63);
			}
		}
		.allMenu_close{
			width: em(41);
			height: em(41);
			top: em(18); right: em(10);
			svg{
				vertical-align: top;
				width: em(19);
				height: em(19);
			}
			&:hover{
				transform: rotate(90deg);
			}
		}
	}
}
@include mob{
	.allMenuMo{
		font-size: 1rem;
	}
}
